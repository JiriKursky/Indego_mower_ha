type: vertical-stack
cards:
  - type: horizontal-stack
    cards:
      - type: 'custom:button-card'
        show_entity_picture: true
        entity_picture: |
          [[[ return states['input_text.mower_map'].state ]]]
        custom_fields:
          mower: ''
          pos_0: ''
          pos_1: ''
        styles:
          card:
            - width: 650px
            - height: 500px
            - padding-top: 5px
            - padding-bottom: 0px
            - padding-left: 0px
          entity_picture:
            - width: 850px
            - height: 500px
          custom_fields:
            mower:
              - background-color: yellow
              - border-radius: 50%
              - position: absolute
              - top: |
                  [[[
                    return states['input_number.bozena_y'].state +"px";
                  ]]]
              - left: |
                  [[[
                    return states['input_number.bozena_x'].state +"px";
                  ]]]
              - height: 20px
              - width: 20px
              - font-size: 8px
              - line-height: 20px
            pos_0:
              - background-color: red
              - border-radius: 50%
              - position: absolute
              - top: |
                  [[[
                    return states['input_number.indego_0_y'].state +"px";
                  ]]]
              - left: |
                  [[[
                    return states['input_number.indego_0_x'].state +"px";
                  ]]]
              - height: 20px
              - width: 20px
              - font-size: 8px
              - line-height: 20px
            pos_1:
              - background-color: green
              - border-radius: 50%
              - position: absolute
              - top: |
                  [[[
                    return states['input_number.indego_1_y'].state +"px";
                  ]]]
              - left: |
                  [[[
                    return states['input_number.indego_1_x'].state +"px";
                  ]]]
              - height: 20px
              - width: 20px
              - font-size: 8px
              - line-height: 20px
      - type: 'custom:button-card'
        entity: sensor.bozena_stav
        name: Božena
        show_icon: false
        custom_fields:
          stav: |
            [[[
              return `<table><tr style='text-align:left'>
              <td width=100px>Stav:
              <td width=100px align='right'>${entity.state}      
              </table>`
            ]]]
          doma: |
            [[[
              var ano='Ne';
              if (states['binary_sensor.bozena_doma'].state=='on') {
                ano = "Ano";
               }
              return `<table><tr style='text-align:left'>
              <td width=100px>V docku:
              <td width=100px align='right'> `+ano+`</table>`
            ]]]
          baterie: |
            [[[
              return `<table><tr style='text-align:left'>
              <td width=100px>Baterie:
              <td width=100px align='right'>${states['sensor.bozena_battery'].state}%      
              </table>`
            ]]]    
          posekano: |
            [[[
              return `<table><tr style='text-align:left'>
              <td width=100px>Posekáno:
              <td width=100px align='right'>${states['sensor.bozena_lawn_mowed'].state}%
              <tr>
              </table>`
            ]]]
          pozice_x: |
            [[[
              return `<table><tr style='text-align:left'>
              <td width=100px>Pozice x:
              <td width=100px align='right'>${states['sensor.bozena_mower_position'].attributes.svg_x_pos}
              <tr>
              </table>`
            ]]]
          pozice_y: |
            [[[
              return `<table><tr style='text-align:left'>
              <td width=100px>Pozice x:
              <td width=100px align='right'>${states['sensor.bozena_mower_position'].attributes.svg_y_pos}
              <tr>
              </table>`
            ]]]
        styles:
          name:
            - font-size: 15px
            - padding-bottom: 10px
          card:
            - width: 180px
            - height: 220px
            - padding: 10%
            - font-size: 14px
            - filter: opacity(90%)
            - color: black
            - background-color: 'rgb(180, 189, 230)'
          grid:
            - grid-template-areas: '"n" "stav" "doma" "baterie" "posekano" "pozice_x" "pozice_y"'
            - grid-template-columns: 1fr
            - grid-template-rows: >-
                1fr min-content min-content min-content min-content min-content
                min-content
      - type: 'custom:button-card'
        entity: input_boolean.bozena_update
        icon: 'mdi:refresh'
        color_type: icon
        show_state: true
        name: Update
        state:
          - value: 'on'
            styles:
              card:
                - background-color: 'rgb(0, 0, 255)'
                - color: white
        styles:
          card:
            - filter: opacity(90%)
            - width: 100px
            - margin-left: 5px
            - color: black
            - background-color: 'rgb(180, 189, 230)'
          grid:
            - grid-template-areas: '"n" "i" "s"'
            - grid-template-columns: 1fr
            - grid-template-rows: min-content 1fr min-content
      - type: vertical-stack
        cards:
          - type: entities
            entities:
              - entity: input_text.mower_map
              - entity: input_number.bozena_x
              - entity: input_number.bozena_y
              - entity: input_number.indego_0_x
              - entity: input_number.indego_0_y
              - entity: input_number.indego_1_x
              - entity: input_number.indego_1_y
